---
title: Accelerate
linktitle: Accelerate
description: Jenkins X は、Accelerate の本で特定された機能を使用しています。
weight: 20
aliases:
  - /about/accelerate
---

<img src="/images/accelerate.jpg" class="img-thumbnail">

Jenkins X は、State of DevOps レポートや最近では [Nicole Forsgren](https://twitter.com/nicolefv)、[Jez Humble](https://twitter.com/jezhumble)、[Gene Kim](https://twitter.com/RealGeneKim?) の著書である [Accelerate](https://www.amazon.co.uk/Accelerate-Software-Performing-Technology-Organizations/dp/1942788339) の影響を大きく受けているクラウド向けの CI/CD 実装を再構築したものです。 

実世界のチームや組織から何年にもわたってデータを収集し、DevOps の世界からインスピレーションを与えてくれる思想家やデータサイエンティストによって分析されています。Accelerate の本では、ユーザーが科学的に証明されたメリットを得るために、Jenkins X が実装している多くの機能を推奨しています。現在利用可能な機能については文書化を開始しており、今後も利用可能な機能が増えれば継続していく予定です。

<img src="/images/capabilities.png" class="img-thumbnail">

# すべての成果物にバージョン管理を使用する

Weaveworks のメンバーは GitOps という造語を作りました。 新しいアプリケーション、バージョンアップ、リソース制限の変更、単純なアプリケーション設定など、環境への変更はすべて Git への Pull Request として提起し、環境の CI のようにチェックを行い、関連する環境に入るものを管理するチームによって承認されなければなりません。これにより、環境への変更に対して完全なトレーサビリティを持つことができるようになりました。

_関連する Accelerate capability:  すべての成果物にバージョン管理を使用_

# デプロイプロセスの自動化

## 環境

Jenkins X はインストール中に自動的に Git でバックアップされた環境を作成し、`jx create environment` を使って新しい環境を簡単に追加できるようにします。さらに、クイックスタート (`jx create quickstart`) や Java ベースの Spring Boot (`jx create spring`)、既存のアプリケーションをインポート (`jx import`) して新しいアプリケーションを作成する場合、Jenkins X は CI/CD パイプラインを自動的に追加し、ジョブ、Git リポジトリ、Webhookを設定して自動デプロイプロセスを可能にします。

Jenkins X は、プルリクエストからのプレビューアプリケーションのための一時的な環境だけでなく、ステージング環境と本番環境 (これはカスタマイズ可能) も作成します。

### プレビュー環境

変更がマスターにマージされる前に、できるだけ多くのテスト、セキュリティ、検証、実験を行うようにしています。一時的に動的に作成されたプレビュー環境を使用することで、どのようなプルリクエストでもプレビューバージョンをビルドし、デプロイ可能なダウンストリームアプリケーションにフィードするライブラリを含めてデプロイすることができます。これにより、コードレビューやテストを行い、変更が本番になることに同意するために関与するすべてのチームとより良いコラボレーションを行うことができるようになります。

最終的に Jenkins X は、開発者、テスター、設計者、プロダクトマネージャが、変更がマスターにマージされたときに、期待通りに動作することを可能な限り確信できる方法を提供したいと考えています。 私たちは、提案された変更がサービスや機能に悪影響を与えず、意図した価値を提供できることを確信したいと考えています。

プレビュー環境が本当に面白いのは、短期的な PR を、成熟度や信頼性のさまざまな段階を経て、実際の本番トラフィック (シャドー・トラフィックやベータ・ユーザー) のパーセンテージに誘導し始めたときです。その後、提案された変更の価値を分析し、仮説駆動開発を使用して、時間をかけて複数の自動化された実験を実行することができます。これにより、すべてのユーザーにリリースされたときに、変更がどのようなパフォーマンスを発揮するかをよりよく理解することができます。トランクベースの開発では、PR が短命であることを確認する必要がありますが、PR が長期的な機能ブランチになってしまうのは避けましょう。

_関連する Accelerate capability: Foster and enable team experimentation_

プレビュー環境を使用することは、より良いテスト自動化を導入するための素晴らしい方法です。Jenkins X はこれを可能にしますが、プレビュー環境に対して自動テストを実行する例はまだありません。簡単なテストとしては、アプリケーションが正常に起動し、Kubernetes の活性度チェックが一定時間通過することを確認することです。これは次のものと関連します。

_関連する Accelerate capability: Implement Test Automation_
_関連する Accelerate capability: Automate your deployment process_

### 恒久的な環境

ソフトウェア開発では、変更が本番環境に移行するまでの間、複数の環境で作業することに慣れています。これは通常の業務のように見えますが、何らかの理由でマスタへのマージ前に行われていなかったプロセスを経て適合していないと判断された場合、他の変更に大きな遅延が発生する可能性があります。その後のコミットがブロックされ、緊急の変更が本番環境に移行されるのを遅らせる原因となります。

上記のように、Jenkins X は、変更や実験がマスターにマージされる前に検証されることを望んでいます。私たちは、ステージング環境での変更を本番環境に移行する前に、短時間の間だけ保留しておきたいと考えており、理想的には自動化された方法で進めたいと考えています。

デフォルトの Jenkins X パイプラインは環境を介したデプロイの自動化を提供します。これらは、独自の CI/CD パイプラインの要件に合わせてカスタマイズすることができます。

Jenkins X では、ステージングは本番環境を可能な限り反映したものとして動作することを推奨しており、理想的には実際の本番環境のデータをサービスメッシュを使用してシャドウイングして動作を理解します。これは、プレビューで変更を開発する際に、ステージングで本番以外のサービスにリンクできるようにするのにも役立ちます。

_関連する Accelerate capability: Automate your deployment process_

# トランクベースの開発を利用する

Accelerate の本では、短命のブランチを使ったトランクベースの開発を行うチームの方がパフォーマンスが良いことがわかりました。これは常に Jenkins X のコアチームのメンバーのために機能していたので、Git リポジトリや CI/CD ジョブを設定する際に、Jenkins X が簡単に実装できる機能でした。

# 継続的インテグレーションの実装

Jenkins X では、CI を、提案された変更がマスターにマージされる前にプルリクエストを介して検証する努力と捉えています。Jenkins Xは、ソースコードリポジトリ、Jenkins、Kubernetes を自動的に設定して、すぐに継続的インテグレーションを提供します。

# 継続的なデリバリーの実装

Jenkins X では、CD を、マスタにマージされた後、その変更をライブ環境で実行するまでの作業と見なしています。Jenkins X はリリースパイプラインの多くの部分を自動化する。

Jenkins X はセマンティックバージョニングの使用を推奨しています。次のリリースバージョンを計算するために git タグを使用しているので、最新のリリースバージョンをマスターブランチに保存する必要はありません。リリースシステムが最後のバージョンや次のバージョンを Git リポジトリに保存している場合、CD が難しくなります。これは再帰的なリリーストリガーとなります。Git タグを使うことで、このような状況を回避することができ、Jenkins X では完全に自動化されます。

Jenkins X は master にマージ __するたびに__ 自動的にリリースバージョンを作成し、それを本番環境に移行する可能性があります。

# 疎結合アーキテクチャを使用する

Kubernetes をターゲットにすることで、Jenkins X のユーザは、疎結合ソリューションの設計と開発に役立つクラウド機能の多くを活用できる。サービスディスカバリ、フォールトトレランス、スケーラビリティ、ヘルスチェック、ローリングアップグレード、コンテナスケジューリング、オーケストレーションなど、Kubernetes が役立つ例をいくつか挙げればきりがありません。

# 強化されたチームのためのアーキテクト

Jenkins X は、ポリグロットアプリケーション開発者を支援することを目的としています。現在、Jenkins X はクイックスタートと自動化された CI/CD セットアップを提供し、Golang, Java, NodeJS, .Net, React, Angular, Rust, Swift などの言語検出機能を備えています。これはまた、開発者が開発に集中できるように一貫した作業方法を提供します。

Jenkins X はまた、自動化されたメトリクスの収集と可視化のための Grafana や Prometheus など、多くのアドオンを提供しています。この例では、集中化されたメトリクスは、アプリケーションが Kubernetes 上でビルドされデプロイされたときにどのように動作するかを理解するのに役立ちます。

[DevPods](/docs/reference/devpods/) は、開発者がローカルの IDE でソースコードを編集できるようにするもう1つの機能で、裏ではクラウドに同期して迅速にビルドと再デプロイを行うことができます。

Jenkins X では、開発者がクラウド上でさまざまな技術を使って実験したり、フィードバックを受けたりするのを支援する自動化機能を提供することで、開発者が最良の意思決定を迅速に行うことができるようになると考えています。
